name: ğŸ« Melon Ticket Monitor

on:
  # 1. å®šæ—¶è§¦å‘ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼Œä¾‹å¦‚æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
  schedule:
    - cron: '*/5 * * * *'
  # 2. æ‰‹åŠ¨è§¦å‘ï¼šæ–¹ä¾¿ä½ éšæ—¶æµ‹è¯•
  workflow_dispatch:

jobs:
  check-ticket:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸš€ è¿è¡Œç¥¨åŠ¡æ£€æŸ¥
        # å…³é”®ï¼šè¿™é‡Œä½¿ç”¨åŸç‰ˆ Actionï¼Œå®ƒä¼šè‡ªåŠ¨æ‰§è¡Œç¼–è¯‘å¥½çš„ index.js
        uses: mooyoul/melon-ticket-actions@master
        with:
          # ä½ å¿…é¡»ä¿®æ”¹ä»¥ä¸‹ä¸‰ä¸ªIDï¼Œä»Melonç½‘ç«™è·å–
          product-id: '212698'      # æ›¿æ¢ï¼šæ¼”å‡ºID
          schedule-id: '100076'     # æ›¿æ¢ï¼šåœºæ¬¡ID
          seat-id: 'A12'            # æ›¿æ¢ï¼šåº§ä½ID
          # å¿…é¡»è®¾ç½®ä½ çš„Slack Webhook
          slack-incoming-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          # å¯é€‰ï¼šè‡ªå®šä¹‰é€šçŸ¥æ¶ˆæ¯
          message: 'ğŸ« í‹°ì¼“ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤! ë¹ ë¥´ê²Œ í™•ì¸í•˜ì„¸ìš”!'
